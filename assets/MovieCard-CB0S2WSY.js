import{a as ee,b as ae,j as F,I as se,u as t,$ as te}from"./index-MrGnfflC.js";import{q as h,d as ne}from"./react-vendor-BYlzYzcd.js";/* empty css                  */const fe=({item:a,type:s,progress:N,duration:$,showDeleteButton:j,onDelete:x,onClick:E,useFullResolution:l=!1})=>{const{id:ie,title:H,name:B,poster_path:G,still_path:Y,vote_average:w,episode_name:I,season_number:A,episode_number:S,first_air_date:M,release_date:C,number_of_seasons:g,status:U,episodes:T,format:v,nextAiringEpisode:p,studios:b,genres:re}=a,c=Y||G,r=B||H,k=typeof r=="object"&&r!==null?r.english||r.romaji||r.native:r,L=N&&$>0?N/$*100:0,d=C||M?new Date(C||M).getFullYear():null,{user:o}=ee(),{addFavorite:q,removeFavorite:_,isShowFavorited:z,favoritesFetched:O}=ae(),m=z(a.id,s,a.season_number,a.episode_number),V=e=>{e.preventDefault(),e.stopPropagation(),o&&(m?s==="anime"?(_(o.id,a.id,"anime"),_(o.id,a.id,"tv")):_(o.id,a.id,s,a.season_number,a.episode_number):q(o.id,{...a,type:s}))},W=e=>{if(e.preventDefault(),e.stopPropagation(),E)E(a);else{const n=s==="anime"&&a.anilist_id?a.anilist_id:a.id;let i=`/watch/${s}/${n}`;(s==="tv"||s==="anime")&&a.season_number&&a.episode_number?i+=`/season/${a.season_number}/episode/${a.episode_number}`:s==="anime"&&(i+="/season/1/episode/1"),te(i)}},J=h(e=>{const n=e.target;n.onerror=null,n.src="https://via.placeholder.com/400x600/1a1a1a/ffffff?text=No+Image"},[]),D=(()=>{if((s==="tv"||s==="anime")&&A&&S)return`S${A} E${S}${I?`: ${I}`:""}`;if(s==="anime"){const e=[];return d&&e.push(d.toString()),T&&e.push(`${T} episodes`),v&&v!=="TV"&&e.push(v),e.length>0?e.join(" • "):"Anime"}else{if(s==="tv"&&g)return`${d||"Unknown"} • ${g} Season${g!==1?"s":""}`;if(s==="movie"&&d)return d.toString()}return null})(),K=()=>{if(s!=="anime"||!U)return null;const n={RELEASING:{text:"Airing",class:"airing"},FINISHED:{text:"Completed",class:"completed"},NOT_YET_RELEASED:{text:"Upcoming",class:"upcoming"},CANCELLED:{text:"Cancelled",class:"cancelled"},HIATUS:{text:"Hiatus",class:"hiatus"}}[U];return n?t("div",{className:`anime-status-badge ${n.class}`,children:n.text}):null},Q=()=>{if(s!=="anime"||!p)return null;const e=p.timeUntilAiring;if(e<=0)return null;const n=Math.floor(e/(24*60*60)),i=Math.floor(e%(24*60*60)/(60*60));let u="";return n>0?u=`${n}d ${i}h`:i>0?u=`${i}h`:u="<1h",t("div",{className:"next-episode-info",children:["Ep ",p.episode," in ",u]})},f=h((e,n="w500")=>{if(!e)return"https://via.placeholder.com/500x750/1a1a1a/ffffff?text=No+Image";if(e.startsWith("http"))return F(e);const i=se.replace("w500",n);return F(`${i}${e}`)},[]),[R,P]=ne(()=>f(c,l?"w500":"w200")),X=h(()=>{l||P(f(c,"w500"))},[c,f,l]),Z=h(()=>{l||P(f(c,"w200"))},[c,f,l]),y=t("div",{className:`poster-wrapper ${s==="anime"?"anime-card-enhanced":""}`,onMouseEnter:X,onMouseLeave:Z,children:[t("img",{src:R,alt:k,loading:"lazy",width:"400",height:"600",onError:J}),t("div",{className:"scrim"}),K(),L>.01&&t("div",{className:"progress-bar-container",children:t("div",{className:"progress-bar",style:{width:`${Math.min(L,100)}%`}})}),t("div",{className:"card-info",children:[t("div",{className:"title-row",children:[t("h3",{className:"card-title",children:k}),o&&t("button",{className:`favorite-btn ${m?"favorited":""}`,onClick:V,"aria-label":m?"Remove from favorites":"Add to favorites",disabled:!O,style:{color:m?"#fca5a5":"var(--text-secondary)"},children:"♥︎"})]}),D&&t("p",{className:"card-subtitle",children:D}),Q(),s==="anime"&&b&&b.length>0&&t("p",{className:"studio-info",children:b[0].name}),t("span",{className:"rating",children:["★ ",w?w.toFixed(1):"N/A"]})]}),j&&t("button",{className:"delete-btn",onClick:e=>{e.preventDefault(),e.stopPropagation(),x&&x(a)},children:"×"})]});return t("div",{className:"movie-card-container",children:t("div",{className:"movie-card clickable",onClick:W,children:y})})};export{fe as M};
//# sourceMappingURL=MovieCard-CB0S2WSY.js.map
